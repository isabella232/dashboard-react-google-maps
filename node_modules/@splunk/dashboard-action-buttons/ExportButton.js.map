{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///./src/ActionButton.tsx","webpack:///./src/ActionItem.tsx","webpack:///external \"@splunk/ui-utils/i18n\"","webpack:///external \"@splunk/dashboard-telemetry\"","webpack:///external \"prop-types\"","webpack:///external \"styled-components\"","webpack:///external \"lodash/get\"","webpack:///./src/ExportButton.tsx","webpack:///external \"lodash/debounce\"","webpack:///external \"@splunk/dashboard-icons/Download\"","webpack:///external \"@splunk/dashboard-utils/ContentExporter\"","webpack:///external \"@splunk/react-toast-notifications/ToastConstants\""],"names":[],"mappings":"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","file":"ExportButton.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n","module.exports = require(\"react\");","import React from 'react';\nimport styled from 'styled-components';\nimport ActionItem from './ActionItem';\n\nconst Button = styled.div`\n    width: 30px;\n    height: 30px;\n    line-height: 30px;\n    text-align: center;\n    cursor: pointer;\n    &[data-disabled='true'] {\n        cursor: not-allowed;\n    }\n`;\n\ninterface ActionButtonProps {\n    icon: React.ReactElement;\n    onClick?: () => void;\n    disabled?: boolean;\n}\n\nconst noop = () => undefined;\n\nconst ActionButton = React.forwardRef<HTMLDivElement, ActionButtonProps>(\n    ({ icon, onClick = noop, disabled = false, ...rest }, ref) => (\n        <ActionItem>\n            <Button\n                onClick={disabled ? noop : onClick}\n                data-disabled={!!disabled}\n                data-clickable\n                ref={ref}\n                {...rest}\n            >\n                {React.cloneElement(icon, { size: '24px' })}\n            </Button>\n        </ActionItem>\n    )\n);\n\nexport default ActionButton;\n","import React, { MouseEvent } from 'react';\nimport T from 'prop-types';\n\nconst handleMouseDown = (e: MouseEvent): void => {\n    e.stopPropagation();\n};\n\nconst handleMouseMove = (e: MouseEvent) => {\n    e.stopPropagation();\n};\n\nconst handleMouseUp = (e: MouseEvent) => {\n    e.stopPropagation();\n};\n\ninterface ActionItemProps {\n    children?: React.ReactNode;\n}\n\nconst ActionItem = ({ children, ...rest }: ActionItemProps): JSX.Element => (\n    <div\n        data-test=\"action-item\"\n        role=\"presentation\"\n        onMouseDown={handleMouseDown}\n        onMouseMove={handleMouseMove}\n        onMouseUp={handleMouseUp}\n        {...rest}\n    >\n        {children}\n    </div>\n);\n\nActionItem.propTypes = {\n    children: T.any,\n};\n\nexport default ActionItem;\n","module.exports = require(\"@splunk/ui-utils/i18n\");","module.exports = require(\"@splunk/dashboard-telemetry\");","module.exports = require(\"prop-types\");","module.exports = require(\"styled-components\");","module.exports = require(\"lodash/get\");","import React, { useMemo, useContext } from 'react';\nimport debounce from 'lodash/debounce';\nimport Download from '@splunk/dashboard-icons/Download';\nimport { TelemetryContext } from '@splunk/dashboard-telemetry';\nimport { _ } from '@splunk/ui-utils/i18n';\nimport get from 'lodash/get';\nimport { exportVizAsPng } from '@splunk/dashboard-utils/ContentExporter';\nimport { TOAST_TYPES } from '@splunk/react-toast-notifications/ToastConstants';\nimport { BaseButtonProps } from './BaseButton';\nimport ActionButton from './ActionButton';\n\ninterface ExportButtonProps extends BaseButtonProps {\n    createToast: (config: { message: string; type: string }) => void;\n}\n\nconst ExportButton = ({\n    itemId,\n    visualization,\n    dashboardApi,\n    screenReaderText,\n    createToast,\n}: ExportButtonProps): JSX.Element | null => {\n    const telemetry = useContext(TelemetryContext);\n    const type = get(visualization, 'type', null);\n\n    const handleOnClick = useMemo(\n        () =>\n            debounce(async () => {\n                if (!dashboardApi || !itemId) {\n                    return;\n                }\n                try {\n                    await exportVizAsPng({\n                        vizDomNode: dashboardApi.getVisualizationDomElement(\n                            itemId\n                        ),\n                        vizId: itemId,\n                        vizType: type,\n                        scale: 1.5,\n                        showToast: (message: string): void => {\n                            createToast({\n                                message,\n                                type: TOAST_TYPES.ERROR,\n                            });\n                        },\n                    });\n                    telemetry.emit({\n                        pageAction: 'udf.export_viz',\n                        source: 'actionMenu',\n                        event: 'viz.export_success',\n                        metadata: { type },\n                    });\n                } catch (error) {\n                    telemetry.emit({\n                        pageAction: 'udf.export_viz',\n                        source: 'actionMenu',\n                        event: 'viz.export_failed',\n                        metadata: { type },\n                        error: error.message,\n                    });\n                }\n            }, 500),\n        [dashboardApi, itemId, type, telemetry, createToast]\n    );\n\n    if (itemId == null || dashboardApi == null || type === null) {\n        return null;\n    }\n    return (\n        <ActionButton\n            data-test=\"export-button\"\n            onClick={handleOnClick}\n            icon={\n                <Download screenReaderText={screenReaderText || _('Export')} />\n            }\n        />\n    );\n};\n\nexport default ExportButton;\n","module.exports = require(\"lodash/debounce\");","module.exports = require(\"@splunk/dashboard-icons/Download\");","module.exports = require(\"@splunk/dashboard-utils/ContentExporter\");","module.exports = require(\"@splunk/react-toast-notifications/ToastConstants\");"],"sourceRoot":""}